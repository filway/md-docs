---
date: 2022-04-19
title: 脚手架项目创建功能架构设计
tags:
  - 前端架构师
  - week5
  - 脚手架
describe:
---

## 架构背后的思考

1. 可扩展：能够快速复用到不同团队，适应不同团队之间的差异
2. 低成本：在不改动脚手架源码的情况下，能够新增模板，且新增模板的成本很低
3. 高性能：控制存储空间，安装时充分利用 Node 多进程提升安装性能



## 架构设计图

脚手架项目创建功能架构设计图：

![图片描述](https://oss.filway.cn/filway-blog/5fefe75209f18b1906941160.jpg)

整体过程可以分为三个阶段：

- 准备阶段
- 下载模板
- 安装模板



## 准备阶段

准备阶段的核心工作是：

1. 确保项目的安装环境
2. 确认项目的基本信息

> 项目的基本信息应该预先确认，否则安装过程中中断会非常影响用户体验

此阶段需要借助命令行交互库 inquirer 来完成项目信息的收集



## 下载模板

下载模板是利用已经封装 Package 类快速实现相关功能



## 安装模板

安装模板分为标准模式和自定义模式：

1. 标准模式下，将通过 ejs 实现模板渲染，并自动安装依赖并启动项目
2. 自定义模式下，将允许用户主动去实现模板的安装过程和后续启动流程